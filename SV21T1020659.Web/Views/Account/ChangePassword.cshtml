@model SV21T1020659.Web.Models.ChangePasswordViewModel

@{
    ViewBag.Title = "Đổi mật khẩu";
}

<head>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<div class="box box-primary">
    <div class="box-header">
        <h3 class="box-title">Đổi mật khẩu</h3>
    </div>
    <div class="box-body">
        <!-- Hiển thị thông báo nếu có -->
        @if (ViewData["Message"] != null)
        {
            <script type="text/javascript">
                Swal.fire({
                    title: '@ViewData["Message"]',
                    icon: '@(ViewData["Success"] != null && (bool)ViewData["Success"] ? "success" : "error")',
                    confirmButtonText: 'OK',
                    showCancelButton: @(ViewData["Success"] != null && (bool)ViewData["Success"] ? "true" : "false"),
                    cancelButtonText: 'Đến đăng nhập',
                    reverseButtons: true
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Giữ lại trang hiện tại
                    } else if (result.dismiss === Swal.DismissReason.cancel) {
                        window.location.href = '@ViewData["RedirectUrl"]';
                    }
                });
            </script>
        }

        <!-- Form đổi mật khẩu -->
        <form method="post">
            <div class="form-group">
                <label for="CurrentPassword">Mật khẩu cũ:</label>
                <input type="password" class="form-control" id="CurrentPassword" name="CurrentPassword" required autofocus>
            </div>

            <div class="form-group">
                <label for="NewPassword">Mật khẩu mới:</label>
                <input type="password" class="form-control" id="NewPassword" name="NewPassword" required>
            </div>

            <div class="form-group">
                <label for="ConfirmPassword">Xác nhận lại mật khẩu:</label>
                <input type="password" class="form-control" id="ConfirmPassword" name="ConfirmPassword" required>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-md-6">
                        <button type="submit" class="btn btn-primary">Đổi mật khẩu</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
